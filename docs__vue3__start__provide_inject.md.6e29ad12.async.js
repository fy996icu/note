(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[87],{"5m/p":function(e,n,t){"use strict";t("4eJr");var l,a=t("3LgI"),o=t("qqnG"),r=t("XSw6"),c=t("q1tI"),u=t.n(c),i=t("vOnD"),m=i["a"].div(l||(l=Object(o["a"])(["\n  height: 40px;\n  width: 40px;\n  line-height: 40px;\n  border-radius: 40px;\n  color: #333;\n  background-color: #fff;\n  transition: color 0.3s;\n  text-align: center;\n  font-size: 22px;\n  box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;\n  &:hover {\n    color: #4569d4;\n  }\n"]))),d=()=>u.a.createElement(u.a.Fragment,null,u.a.createElement(a["a"],{style:{right:"16px"}},u.a.createElement(m,null,u.a.createElement(r["a"],null))));n["a"]=d},"8T1Q":function(e,n,t){"use strict";t("fOrg"),t("+KLJ"),t("q1tI")},CVji:function(e,n,t){"use strict";t("+BJd");var l=t("mr32"),a=t("q1tI"),o=t.n(a),r=e=>o.a.createElement(o.a.Fragment,null,o.a.createElement(l["a"],{color:e.color?e.color:"red"},e.children));n["a"]=r},"M/Q6":function(e,n,t){"use strict";var l=t("q1tI"),a=t.n(l);t("x8cr");function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},o.apply(this,arguments)}n["a"]=function(e){return a.a.createElement("div",o({className:"__dumi-default-alert"},e))}},kiV1:function(e,n,t){"use strict";t.r(n);var l=t("q1tI"),a=t.n(l),o=t("dEAq"),r=(t("8T1Q"),t("5m/p")),c=(t("CVji"),t("lxxy"),t("M/Q6")),u=t("H1Ra"),i=a.a.memo((e=>{e.demos;return a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(r["a"],null),a.a.createElement("div",{className:"markdown"},a.a.createElement("h1",{id:"provide-\u4e0e-inject"},a.a.createElement(o["AnchorLink"],{to:"#provide-\u4e0e-inject","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"provide \u4e0e inject"),a.a.createElement("h2",{id:"\u4f7f\u7528\u573a\u666f"},a.a.createElement(o["AnchorLink"],{to:"#\u4f7f\u7528\u573a\u666f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528\u573a\u666f"),a.a.createElement("p",null,a.a.createElement("code",null,"provide")," \u4e0e ",a.a.createElement("code",null,"inject")," \u53ef\u5b9e\u73b0\u8de8\u5c42\u7ea7\u7ec4\u4ef6\u95f4\u901a\u4fe1\uff08\u7956\u5b59\u95f4\u901a\u4fe1\uff09\u3002"),a.a.createElement("p",null,a.a.createElement("img",{src:"https://v3.cn.vuejs.org/images/components_provide.png",alt:"provide \u4e0e inject"})),a.a.createElement("p",null,"\u4f8b\u5982\uff0c\u6211\u4eec\u6709\u8fd9\u6837\u7684\u5c42\u6b21\u7ed3\u6784\uff1a"),a.a.createElement(u["a"],{code:"Root\n\u2514\u2500 Father\n   \u251c\u2500 Brother\n   \u2514\u2500 Children\n      \u251c\u2500 Grandson\n      \u2514\u2500 GrandsonBrother",lang:"text"}),a.a.createElement("p",null,"\u901a\u8fc7 ",a.a.createElement("code",null,"provide")," \u4e0e ",a.a.createElement("code",null,"inject")," \u6211\u4eec\u5c31\u53ef\u4ee5\u5728 ",a.a.createElement("code",null,"Father")," \u7ec4\u4ef6\u7684\u540e\u4ee3\u4e2d\u8de8\u7ea7\u901a\u4fe1\u3002"),a.a.createElement("h2",{id:"provide"},a.a.createElement(o["AnchorLink"],{to:"#provide","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"Provide"),a.a.createElement("p",null,"\u5728 ",a.a.createElement("code",null,"setup")," \u4e2d\u4f7f\u7528 ",a.a.createElement("code",null,"provide")," \u9700\u8981\u4ece ",a.a.createElement("code",null,"vue")," \u4e2d\u5bfc\u5165 ",a.a.createElement("code",null,"provide")," \u65b9\u6cd5\u3002"),a.a.createElement("p",null,a.a.createElement("code",null,"provide")," \u65b9\u6cd5\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"name\uff1a(String)\u7c7b\u578b-\u76f8\u5f53\u4e8e\u53d6\u4e00\u4e2a\u540d\u5b57\u3002")),a.a.createElement("li",null,a.a.createElement("p",null,"value\uff1a\u9700\u8981\u4f20\u9012\u7ed9\u540e\u4ee3\u7ec4\u4ef6\u7684\u503c\u3002"))),a.a.createElement(u["a"],{code:"provide(name, value);",lang:"js"}),a.a.createElement("p",null,"\u793a\u4f8b\uff1a",a.a.createElement("code",null,"Father")," \u7ec4\u4ef6\u5c06\u8ba1\u6570\u5668 ",a.a.createElement("code",null,"count")," \u4f20\u9012\u7ed9\u540e\u4ee3\u7ec4\u4ef6\u3002"),a.a.createElement(u["a"],{code:"\x3c!-- Father\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Father\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <hr />\n  <Children />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165 Children\u7ec4\u4ef6\n  import Children from './Children.vue';\n  import { defineComponent, provide } from 'vue';\n  export default defineComponent({\n    components: {\n      Children,\n    },\n    setup() {\n      const count = 10;\n      // \u901a\u8fc7 provide\u65b9\u6cd5\u5c06 count\u4f20\u9012\u7ed9\u540e\u4ee3\u7ec4\u4ef6\n      provide('count', count);\n\n      return {\n        count,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,"\u8fd9\u6837 ",a.a.createElement("code",null,"Father")," \u7ec4\u4ef6\u5c31\u901a\u8fc7 ",a.a.createElement("code",null,"provide")," \u65b9\u6cd5\u5c06 ",a.a.createElement("code",null,"count")," \u4f20\u9012\u7ed9\u4e86\u540e\u4ee3\u7ec4\u4ef6\uff0c\u540e\u4ee3\u7ec4\u4ef6\u901a\u8fc7 ",a.a.createElement("code",null,"inject")," \u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u7956\u5148\u7ec4\u4ef6\u4f20\u9012\u7684 ",a.a.createElement("code",null,"count")," \u3002"),a.a.createElement("h2",{id:"inject"},a.a.createElement(o["AnchorLink"],{to:"#inject","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"Inject"),a.a.createElement("p",null,"\u5728 ",a.a.createElement("code",null,"setup")," \u4e2d\u4f7f\u7528 ",a.a.createElement("code",null,"inject")," \u9700\u8981\u4ece ",a.a.createElement("code",null,"vue")," \u4e2d\u5bfc\u5165 ",a.a.createElement("code",null,"inject")," \u65b9\u6cd5\u3002"),a.a.createElement("p",null,a.a.createElement("code",null,"inject")," \u65b9\u6cd5\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff1a"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("p",null,"name\uff1a",a.a.createElement("code",null,"provide")," \u8bbe\u7f6e\u7684 ",a.a.createElement("code",null,"name")," \u503c\u3002")),a.a.createElement("li",null,a.a.createElement("p",null,"defaultValue(\u53ef\u9009)\uff1a\u9ed8\u8ba4\u503c\u3002")),a.a.createElement("li",null,a.a.createElement("p",null,"\u8fd4\u56de\u503c\uff1a\u7956\u5148\u7ec4\u4ef6\u901a\u8fc7 ",a.a.createElement("code",null,"provide")," \u65b9\u6cd5\u4f20\u9012\u4e0b\u6765\u7684\u503c\u3002"))),a.a.createElement(u["a"],{code:"const value = inject(name, defaultValue);",lang:"js"}),a.a.createElement("p",null,"\u540e\u4ee3\u7ec4\u4ef6\u901a\u8fc7 ",a.a.createElement("code",null,"inject")," \u65b9\u6cd5\u83b7\u53d6\u7956\u5148\u7ec4\u4ef6\u4f20\u9012\u7684\u503c\u3002"),a.a.createElement("p",null,"\u793a\u4f8b\uff1a\u540e\u4ee3\u7ec4\u4ef6 ",a.a.createElement("code",null,"Children")," \u548c ",a.a.createElement("code",null,"Grandson")," \u83b7\u53d6 ",a.a.createElement("code",null,"Father")," \u7ec4\u4ef6\u4f20\u9012\u7684 ",a.a.createElement("code",null,"count"),"\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"Children \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Children\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Children\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <hr />\n  <Grandson />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165Grandson\u7ec4\u4ef6\n  import Grandson from './Grandson.vue';\n  import { defineComponent, inject } from 'vue';\n  export default defineComponent({\n    components: {\n      Grandson,\n    },\n    setup() {\n      // \u901a\u8fc7 inject\u65b9\u6cd5\u83b7\u53d6 count\n      const count = inject('count');\n      return {\n        count,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Grandson \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Grandson\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Grandson\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, inject } from 'vue';\n  export default defineComponent({\n    setup() {\n      // \u901a\u8fc7 inject\u65b9\u6cd5\u83b7\u53d6 count\n      const count = inject('count');\n      return {\n        count,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,"\u6b64\u65f6\u540e\u4ee3\u7ec4\u4ef6\u5c31\u80fd\u4f7f\u7528\u7956\u5148\u7ec4\u4ef6\u4f20\u9012\u7684 ",a.a.createElement("code",null,"count")," \u7684\u503c\u4e86\uff0c",a.a.createElement("code",null,"Father"),"\u3001",a.a.createElement("code",null,"Children"),"\u3001",a.a.createElement("code",null,"Grandson"),"\u7ec4\u4ef6\u4e2d\uff0c\u5747\u663e\u793a\uff1a",a.a.createElement("code",null,"\u8ba1\u6570\u5668\uff1a10"),"\u3002"),a.a.createElement("h2",{id:"\u6dfb\u52a0\u54cd\u5e94\u5f0f"},a.a.createElement(o["AnchorLink"],{to:"#\u6dfb\u52a0\u54cd\u5e94\u5f0f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u6dfb\u52a0\u54cd\u5e94\u5f0f"),a.a.createElement("p",null,"\u4e3a\u4e86\u589e\u52a0 ",a.a.createElement("code",null,"provide")," \u503c\u548c ",a.a.createElement("code",null,"inject")," \u503c\u4e4b\u95f4\u7684\u54cd\u5e94\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 ",a.a.createElement("code",null,"provide")," \u503c\u65f6\u4f7f\u7528 ",a.a.createElement("code",null,"ref")," \u6216 ",a.a.createElement("code",null,"reactive"),"\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"Father \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Father\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Father\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <button @click=\"setCount\">\u4fee\u6539\u8ba1\u6570\u5668</button>\n  <hr />\n  <Children />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165 Children\u7ec4\u4ef6\n  import Children from './Children.vue';\n  import { defineComponent, provide, reactive, ref } from 'vue';\n  export default defineComponent({\n    components: {\n      Children,\n    },\n    setup() {\n      const count = ref(0);\n      const userInfo = reactive({\n        name: '\u5f20\u4e09',\n        age: 30,\n      });\n\n      // \u901a\u8fc7 provide\u65b9\u6cd5\u5c06 count\u3001userInfo\u4f20\u9012\u7ed9\u540e\u4ee3\u7ec4\u4ef6\uff0c\u5177\u6709\u54cd\u5e94\u5f0f\n      provide('count', count);\n      provide('userInfo', userInfo);\n\n      // \u4fee\u6539\u8ba1\u6570\u5668\n      const setCount = () => {\n        count.value++;\n      };\n      return {\n        count,\n        setCount,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Children \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Children\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Children\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <hr />\n  <Grandson />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165Grandson\u7ec4\u4ef6\n  import Grandson from './Grandson.vue';\n  import { defineComponent, inject } from 'vue';\n  export default defineComponent({\n    components: {\n      Grandson,\n    },\n    setup() {\n      // \u901a\u8fc7 inject\u65b9\u6cd5\u83b7\u53d6 count\u3001userInfo\n      const count = inject('count');\n      const userInfo = inject('userInfo');\n      return {\n        count,\n        userInfo,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Grandson \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Grandson\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Grandson\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, inject } from 'vue';\n  export default defineComponent({\n    setup() {\n      // \u901a\u8fc7 inject\u65b9\u6cd5\u83b7\u53d6 count\u3001userInfo\n      const count = inject('count');\n      const userInfo = inject('userInfo');\n      return {\n        count,\n        userInfo,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,"\u6b64\u65f6\u70b9\u51fb ",a.a.createElement("code",null,"\u4fee\u6539\u8ba1\u6570\u5668")," \u6309\u94ae\uff0c\u540e\u4ee3\u7ec4\u4ef6\u4e2d\u7684\u8ba1\u6570\u5668 ",a.a.createElement("code",null,"count")," \u4e5f\u4f1a\u540c\u6b65\u66f4\u65b0\u3002"),a.a.createElement("h2",{id:"\u4e0d\u5177\u6709\u54cd\u5e94\u5f0f\u7684\u60c5\u51b5"},a.a.createElement(o["AnchorLink"],{to:"#\u4e0d\u5177\u6709\u54cd\u5e94\u5f0f\u7684\u60c5\u51b5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u4e0d\u5177\u6709\u54cd\u5e94\u5f0f\u7684\u60c5\u51b5"),a.a.createElement(c["a"],{type:"warning"},"\u4e0b\u9762\u7684\u4f20\u9012\u65b9\u5f0f\uff0c\u540e\u4ee3\u7ec4\u4ef6\u6240\u5f97\u5230\u7684 count \u4e0d\u5177\u6709\u54cd\u5e94\u5f0f\u3002"),a.a.createElement(u["a"],{code:"<template>\n  <h1>Father\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <button @click=\"setCount\">\u4fee\u6539\u8ba1\u6570\u5668</button>\n  <hr />\n  <Children />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165 Children\u7ec4\u4ef6\n  import Children from './Children.vue';\n  import { defineComponent, provide, ref } from 'vue';\n  export default defineComponent({\n    components: {\n      Children,\n    },\n    setup() {\n      const count = ref(0);\n      // \u901a\u8fc7 provide\u65b9\u6cd5\u5c06 count.value\u4f20\u9012\u7ed9\u540e\u4ee3\u7ec4\u4ef6\uff0ccount\u5c06\u4e0d\u662f\u54cd\u5e94\u5f0f\u7684\n      provide('count', count.value);\n\n      // \u4fee\u6539\u8ba1\u6570\u5668\n      const setCount = () => {\n        count.value++;\n      };\n      return {\n        count,\n        setCount,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,"\u901a\u8fc7\u4f20\u9012 ",a.a.createElement("code",null,"count.value")," \u7684\u503c\u4e0d\u5177\u6709\u54cd\u5e94\u5f0f\uff0c\u76f8\u5f53\u4e8e\u4f20\u9012\u4e86\u4e00\u4e2a\u666e\u901a\u503c\u3002"),a.a.createElement(u["a"],{code:"provide('count', count.value);",lang:"js"}),a.a.createElement("h2",{id:"\u4fee\u6539\u54cd\u5e94\u5f0f"},a.a.createElement(o["AnchorLink"],{to:"#\u4fee\u6539\u54cd\u5e94\u5f0f","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u4fee\u6539\u54cd\u5e94\u5f0f"),a.a.createElement("p",null,"\u5f53\u4f7f\u7528\u54cd\u5e94\u5f0f ",a.a.createElement("code",null,"provide / inject")," \u503c\u65f6\uff0c\u5efa\u8bae\u5c3d\u53ef\u80fd\u5c06\u5bf9\u54cd\u5e94\u5f0f ",a.a.createElement("code",null,"property")," \u7684\u6240\u6709\u4fee\u6539\u9650\u5236\u5728\u5b9a\u4e49 ",a.a.createElement("code",null,"provide")," \u7684\u7ec4\u4ef6\u5185\u90e8\u3002"),a.a.createElement("p",null,"\u4f8b\u5982\uff1a\u5728 ",a.a.createElement("code",null,"Children")," \u548c ",a.a.createElement("code",null,"Grandson")," \u7ec4\u4ef6\u4e2d\u9700\u8981\u4fee\u6539 ",a.a.createElement("code",null,"count")," \u7684\u503c\u3002\u6211\u4eec\u5c31\u53ef\u4ee5\u5728 ",a.a.createElement("code",null,"Father")," \u7ec4\u4ef6\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u4fee\u6539 ",a.a.createElement("code",null,"count")," \u7684\u65b9\u6cd5 ",a.a.createElement("code",null,"setCount")," \u518d\u5c06 ",a.a.createElement("code",null,"setCount")," \u65b9\u6cd5\u901a\u8fc7 ",a.a.createElement("code",null,"provide")," \u4f20\u9012\u7ed9\u540e\u4ee3\u7ec4\u4ef6\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"Father \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Father\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Father\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <hr />\n  <Children />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165 Children\u7ec4\u4ef6\n  import Children from './Children.vue';\n  import { defineComponent, provide, ref } from 'vue';\n  export default defineComponent({\n    components: {\n      Children,\n    },\n    setup() {\n      const count = ref(0);\n      // \u4fee\u6539\u8ba1\u6570\u5668\n      const setCount = () => {\n        count.value++;\n      };\n      // \u901a\u8fc7 provide\u65b9\u6cd5\u5c06 count\u3001setCount\u4f20\u9012\u7ed9\u540e\u4ee3\u7ec4\u4ef6\uff0c\u5177\u6709\u54cd\u5e94\u5f0f\n      provide('count', count);\n      provide('setCount', setCount);\n\n      return {\n        count,\n        setCount,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Children \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Children\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Children\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <button @click=\"setCount\">\u4fee\u6539\u8ba1\u6570\u5668</button>\n  <hr />\n  <Grandson />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165Grandson\u7ec4\u4ef6\n  import Grandson from './Grandson.vue';\n  import { defineComponent, inject } from 'vue';\n  export default defineComponent({\n    components: {\n      Grandson,\n    },\n    setup() {\n      // \u901a\u8fc7 inject\u65b9\u6cd5\u83b7\u53d6 count \u548c setCount\u65b9\u6cd5\n      const count = inject('count');\n      const setCount = inject('setCount');\n      return {\n        count,\n        setCount,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Grandson \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Grandson\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Grandson\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <button @click=\"setCount\">\u4fee\u6539\u8ba1\u6570\u5668</button>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, inject } from 'vue';\n  export default defineComponent({\n    setup() {\n      // \u901a\u8fc7 inject\u65b9\u6cd5\u83b7\u53d6 count \u548c setCount\u65b9\u6cd5\n      const count = inject('count');\n      const setCount = inject('setCount');\n      return {\n        count,\n        setCount,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("h2",{id:"\u7981\u6b62\u4fee\u6539"},a.a.createElement(o["AnchorLink"],{to:"#\u7981\u6b62\u4fee\u6539","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u7981\u6b62\u4fee\u6539"),a.a.createElement("p",null,"\u5982\u679c\u8981\u786e\u4fdd\u901a\u8fc7 ",a.a.createElement("code",null,"provide")," \u4f20\u9012\u7684\u6570\u636e\u4e0d\u4f1a\u88ab ",a.a.createElement("code",null,"inject")," \u7684\u7ec4\u4ef6\u66f4\u6539\uff0c\u6211\u4eec\u5efa\u8bae\u5bf9\u63d0\u4f9b\u8005\u7684 ",a.a.createElement("code",null,"property")," \u4f7f\u7528 ",a.a.createElement("code",null,"readonly"),"\u3002"),a.a.createElement(u["a"],{code:"provide(name, readonly(value));",lang:"js"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Father \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Father\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Father\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <hr />\n  <Children />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165 Children\u7ec4\u4ef6\n  import Children from './Children.vue';\n  import { defineComponent, provide, readonly, ref } from 'vue';\n  export default defineComponent({\n    components: {\n      Children,\n    },\n    setup() {\n      const count = ref(0);\n\n      // \u901a\u8fc7 provide\u65b9\u6cd5\u5c06 count\u4f20\u9012\u7ed9\u540e\u4ee3\u7ec4\u4ef6\uff0c\u540e\u4ee3\u7ec4\u4ef6\u53ea\u80fd\u53ea\u8bfbcount\n      provide('count', readonly(count));\n      return {\n        count,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Children \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Children\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Children\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <button @click=\"setCount\">\u4fee\u6539\u8ba1\u6570\u5668</button>\n  <hr />\n  <Grandson />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165Grandson\u7ec4\u4ef6\n  import Grandson from './Grandson.vue';\n  import { defineComponent, inject } from 'vue';\n  export default defineComponent({\n    components: {\n      Grandson,\n    },\n    setup() {\n      // \u901a\u8fc7 inject\u65b9\u6cd5\u83b7\u53d6 count\n      const count = inject('count');\n      const setCount = () => {\n        //\u8b66\u544a\uff1aSet operation on key \"value\" failed: target is readonly.\n        count.value++;\n      };\n      return {\n        count,\n        setCount,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Grandson \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:'\x3c!-- Grandson\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Grandson\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <button @click="setCount">\u4fee\u6539\u8ba1\u6570\u5668</button>\n</template>\n\n<script lang="ts">\n  import { defineComponent, inject } from \'vue\';\n  export default defineComponent({\n    setup() {\n      // \u901a\u8fc7 inject\u65b9\u6cd5\u83b7\u53d6 count\n      const count = inject(\'count\');\n      const setCount = () => {\n        //\u8b66\u544a\uff1aSet operation on key "value" failed: target is readonly.\n        count.value++;\n      };\n      return {\n        count,\n        setCount,\n      };\n    },\n  });\n<\/script>',lang:"html"}),a.a.createElement("p",null,"\u901a\u8fc7 ",a.a.createElement("code",null,"readonly")," \u65b9\u6cd5\u5904\u7406\u540e\uff0c\u5f53\u540e\u4ee3 ",a.a.createElement("code",null,"inject")," \u7684\u7ec4\u4ef6\u5c1d\u8bd5\u4fee\u6539 ",a.a.createElement("code",null,"provide")," \u4f20\u9012\u7684\u6570\u636e\u65f6\u4e0d\u4f1a\u8d77\u4f5c\u7528\uff0c\u5e76\u4e14\u4f1a\u5728\u63a7\u5236\u53f0\u8f93\u51fa\u8b66\u544a\uff1a",a.a.createElement("code",null,'Set operation on key "value" failed: target is readonly.')),a.a.createElement("p",null,a.a.createElement("strong",null,a.a.createElement("font",{"v-pre":"",color:"red"},"\u4f7f\u7528 readonly \u7684\u60c5\u51b5\u4e0b\u53c8\u8981\u5141\u8bb8 inject \u7684\u7ec4\u4ef6\u4e2d\u4fee\u6539 provide \u4f20\u9012\u7684\u503c\u600e\u4e48\u529e\uff1f"))),a.a.createElement("p",null,"\u4f7f\u7528 ",a.a.createElement("code",null,"readonly")," \u662f\u4e3a\u4e86\u9632\u6b62 ",a.a.createElement("code",null,"inject")," \u7684\u7ec4\u4ef6\u6dfb\u52a0\u4fee\u6539\u903b\u8f91\u6765\u4fee\u6539\u6570\u636e\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u5c06\u4fee\u6539\u903b\u8f91\u5b9a\u4e49\u5728 ",a.a.createElement("code",null,"provide")," \u7684\u7ec4\u4ef6\u5185\uff0c\u7136\u540e\u901a\u8fc7 ",a.a.createElement("code",null,"provide")," \u65b9\u6cd5\u5c06\u4fee\u6539\u51fd\u6570\u4f20\u9012\u7ed9\u540e\u4ee3\u7ec4\u4ef6\u3002"),a.a.createElement("p",null,a.a.createElement("strong",null,"Father \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Father\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Father\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <hr />\n  <Children />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165 Children\u7ec4\u4ef6\n  import Children from './Children.vue'\n  import { defineComponent, provide, readonly, ref } from 'vue'\n  export default defineComponent({\n    components: {\n      Children,\n    },\n    const count = ref(0)\n    const setCount = () => {\n      count.value++\n    }\n    // \u901a\u8fc7 provide\u65b9\u6cd5\u5c06 count\u3001setCount\u4f20\u9012\u7ed9\u540e\u4ee3\u7ec4\u4ef6\n    // \u540e\u4ee3\u7ec4\u4ef6\u53ea\u80fd\u901a\u8fc7\u4f20\u9012\u8fc7\u53bb\u7684 setCount\u65b9\u6cd5\u4fee\u6539 count\n    provide('count', readonly(count))\n    provide('setCount', setCount)\n    return {\n      count,\n    }\n  })\n<\/script>",lang:"html"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Children \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Children\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Children\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <button @click=\"setCount\">\u4fee\u6539\u8ba1\u6570\u5668</button>\n  <hr />\n  <Grandson />\n</template>\n\n<script lang=\"ts\">\n  // \u5bfc\u5165Grandson\u7ec4\u4ef6\n  import Grandson from './Grandson.vue';\n  import { defineComponent, inject } from 'vue';\n  export default defineComponent({\n    components: {\n      Grandson,\n    },\n    setup() {\n      // \u901a\u8fc7 inject\u65b9\u6cd5\u83b7\u53d6 count\u3001setCount\n      // count \u662f\u53ea\u8bfb\u7684\uff0c\u53ea\u80fd\u901a\u8fc7 setCount\u65b9\u6cd5\u4fee\u6539\n      const count = inject('count');\n      const setCount = inject('setCount');\n      return {\n        count,\n        setCount,\n      };\n    },\n  });\n<\/script>",lang:"html"}),a.a.createElement("p",null,a.a.createElement("strong",null,"Grandson \u7ec4\u4ef6")),a.a.createElement(u["a"],{code:"\x3c!-- Grandson\u7ec4\u4ef6 --\x3e\n<template>\n  <h1>Grandson\u7ec4\u4ef6</h1>\n  <h2>\u8ba1\u6570\u5668\uff1a{{ count }}</h2>\n  <button @click=\"setCount\">\u4fee\u6539\u8ba1\u6570\u5668</button>\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent, inject } from 'vue';\n  export default defineComponent({\n    setup() {\n      // \u901a\u8fc7 inject\u65b9\u6cd5\u83b7\u53d6 count\u3001setCount\n      // count \u662f\u53ea\u8bfb\u7684\uff0c\u53ea\u80fd\u901a\u8fc7 setCount\u65b9\u6cd5\u4fee\u6539\n      const count = inject('count');\n      const setCount = inject('setCount');\n      return {\n        count,\n        setCount,\n      };\n    },\n  });\n<\/script>",lang:"html"}))))}));n["default"]=e=>{var n=a.a.useContext(o["context"]),t=n.demos;return a.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(i,{demos:t})}},lxxy:function(e,n,t){"use strict";t("tU7J");var l=t("wFql");t("q1tI"),l["a"].Text},x8cr:function(e,n,t){}}]);