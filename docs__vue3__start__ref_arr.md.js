(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[74],{Oktk:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),l=t.n(a),r=t("dEAq"),c=t("H1Ra"),o=l.a.memo((e=>{e.demos;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"ref-\u6570\u7ec4"},l.a.createElement(r["AnchorLink"],{to:"#ref-\u6570\u7ec4","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"Ref \u6570\u7ec4"),l.a.createElement("h2",{id:"2x-\u8bed\u6cd5"},l.a.createElement(r["AnchorLink"],{to:"#2x-\u8bed\u6cd5","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"2.x \u8bed\u6cd5"),l.a.createElement("p",null,"\u5728 Vue2 \u4e2d\uff0c\u7ed9\u591a\u4e2a DOM \u7ed1\u5b9a\u76f8\u540c ",l.a.createElement("code",null,"ref")," \u65f6\uff0c \u53ef\u4ee5\u4f7f\u7528 ",l.a.createElement("code",null,"$refs")," \u83b7\u53d6\u5230 DOM \u8282\u70b9\u3002"),l.a.createElement("p",null,"\u4f8b\u5982\uff1a\u5728 ",l.a.createElement("code",null,"v-for")," \u5faa\u73af\u65f6\u7ed9 ",l.a.createElement("code",null,"li")," \u6807\u7b7e\u7ed1\u5b9a ",l.a.createElement("code",null,'ref="liDom"')," \u7528\u4e8e\u6279\u91cf\u83b7\u53d6 ",l.a.createElement("code",null,"li")," \u6807\u7b7e\u8282\u70b9\u3002"),l.a.createElement(c["a"],{code:'<template>\n  <ul>\n    <li v-for="item in arrData" :key="item.id" ref="liDom">\n      {{ item.name }}\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      arrData: [\n        {\n          id: "0",\n          name: "\u5f20\u4e09",\n        },\n        {\n          id: "1",\n          name: "\u674e\u56db",\n        },\n        {\n          id: "2",\n          name: "\u738b\u4e94",\n        },\n      ],\n    };\n  },\n  mounted() {\n    // \u7ec4\u4ef6\u6302\u8f7d\u5b8c\u6210\u83b7\u53d6 li \u6807\u7b7e DOM\n    console.log(this.$refs.liDom); // \u8f93\u51fa\uff1a[li, li, li]\n  },\n};\n<\/script>',lang:"html"}),l.a.createElement("h2",{id:"3x-\u8bed\u6cd5"},l.a.createElement(r["AnchorLink"],{to:"#3x-\u8bed\u6cd5","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"3.x \u8bed\u6cd5"),l.a.createElement("p",null,"\u5728 Vue 3 \u4e2d\uff0c\u6b64\u7c7b\u7528\u6cd5\u5c06\u4e0d\u518d\u81ea\u52a8\u521b\u5efa ",l.a.createElement("code",null,"$ref")," \u6570\u7ec4\u3002\u8981\u4ece\u5355\u4e2a\u7ed1\u5b9a\u83b7\u53d6\u591a\u4e2a ",l.a.createElement("code",null,"ref"),"\uff0c\u8bf7\u5c06 ",l.a.createElement("code",null,"ref")," \u7ed1\u5b9a\u5230\u4e00\u4e2a\u66f4\u7075\u6d3b\u7684 ",l.a.createElement("code",null,"\u51fd\u6570")," \u4e0a (\u8fd9\u662f\u4e00\u4e2a\u65b0\u7279\u6027)\uff1a"),l.a.createElement(c["a"],{code:"<template>\n  <ul>\n    <li v-for=\"item in data\" :key=\"item\" :ref=\"setItemRef\">{{ item }}</li>\n  </ul>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, ref } from 'vue'\nexport default defineComponent({\n  setup() {\n    // \u6570\u636e\n    const data = ref<string[]>(['\u5f20\u4e09', '\u674e\u56db', '\u738b\u4e94'])\n    // \u521b\u5efa ref \u6570\u7ec4\u5bb9\u5668\n    const liNodeListRefs = ref<HTMLLIElement[]>([])\n    // \u5b9a\u4e49\u4e00\u4e2a\u83b7\u53d6 DOM \u7684\u51fd\u6570\n    const setItemRef = (el: any) => {\n      if (el) liNodeListRefs.value.push(el)\n    }\n    onMounted(() => {\n      console.log(liNodeListRefs.value) // \u8f93\u51fa\uff1aProxy [li, li, li]\n    })\n    return { data, setItemRef }\n  },\n})\n<\/script>",lang:"html"}),l.a.createElement("p",null,l.a.createElement("strong",null,"\u901a\u8fc7 ",l.a.createElement(r["Link"],{to:"/vue3/start/get-current-instance"},"getCurrentInstance()")," \u8bbf\u95ee\u5185\u90e8\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u4ece\u800c\u83b7\u53d6 ",l.a.createElement("code",null,"refs")," \u3002")),l.a.createElement("p",null,"\u5728 Vue3 \u4e2d\u65e0\u6cd5\u8bbf\u95ee ",l.a.createElement("code",null,"this"),"\uff0c\u6240\u4ee5\u65e0\u6cd5\u4f7f\u7528 Vue2 \u4e2d\u7684 ",l.a.createElement("code",null,"this.$refs"),"\uff0c\u4f46\u662f\u53ef\u901a\u8fc7 ",l.a.createElement("code",null,"getCurrentInstance()")," \u65b9\u6cd5\u8fd4\u56de\u5f53\u524d\u7ec4\u4ef6\u5b9e\u4f8b ",l.a.createElement("code",null,"internalInstance"),"\uff0c\u4ece\u800c\u901a\u8fc7 ",l.a.createElement("code",null,"internalInstance.ctx.$refs")," \u83b7\u53d6\u5230 DOM\u3002"),l.a.createElement(c["a"],{code:"\x3c!-- \u7236\u7ec4\u4ef6 --\x3e\n<template>\n  <ul>\n    <li v-for=\"item in data\" :key=\"item\" ref=\"liDom\">{{ item }}</li>\n  </ul>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, getCurrentInstance, onMounted, ref } from 'vue'\nexport default defineComponent({\n  setup() {\n    // \u6570\u636e\n    const data = ref<string[]>(['\u5f20\u4e09', '\u674e\u56db', '\u738b\u4e94'])\n    onMounted(() => {\n      // \u901a\u8fc7 getCurrentInstance() \u83b7\u53d6\u5230\u5f53\u524d\u7ec4\u4ef6\u5b9e\u4f8b\n      const internalInstance = getCurrentInstance() as any\n\n      // \u83b7\u53d6 $refs\n      console.log(internalInstance.ctx.$refs.liDom) // \u8f93\u51fa\uff1a[li, li, li]\n    })\n    return { data }\n  },\n})\n<\/script>",lang:"html"})))}));n["default"]=e=>{var n=l.a.useContext(r["context"]),t=n.demos;return l.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.a.createElement(o,{demos:t})}}}]);